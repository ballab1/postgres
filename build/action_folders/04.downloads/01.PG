# postgres

declare -A PG=(
    ['major']=10
    ['version']=${POSTGRES_VERSION:?}
    ['file']="/tmp/postgresql-${PG['version']}.tar.bz2"
    ['url']="https://ftp.postgresql.org/pub/source/v${PG['version']}/postgresql-${PG['version']}.tar.bz2"
# org values. No idea why they changed
#    ['sha256_9.6.10']="b4aae2ffb3812b2bd39fc4e065613969af7dadd72ad6ad23abb8a2bf4c02c203"
#    ['sha256_10.0']="86c83a664b770114861bc96a9eca3c3efe28c0384c6a71c610426cd42b0164fb"
#    ['sha256_10.1']="cdebdeeae50744f3b7e4823b55decfbf727fb4c16bb736488984007d7b1a4f76"
#    ['sha256_10.2']="6bbd81460bcd22379fc2267821e03e213b39d02f2553a0f63d85f94ce0416c6c"
#    ['sha256_10.3']="87584285af8c5fd6e599b4d9789f455f8cd55759ed81a9e575ebaebc7a03e796"
# current values
    ['sha256_9.6.10']="8615acc56646401f0ede97a767dfd27ce07a8ae9c952afdb57163b7234fe8426"
    ['sha256_10.0']="712f5592e27b81c5b454df96b258c14d94b6b03836831e015c65d6deeae57fd1"
    ['sha256_10.1']="3ccb4e25fe7a7ea6308dea103cac202963e6b746697366d72ec2900449a5e713"
    ['sha256_10.2']="fe32009b62ddb97f7f014307ce9d0edb6972f5a698e63cb531088e147d145bad"
    ['sha256_10.3']="6ea268780ee35e88c65cdb0af7955ad90b7d0ef34573867f223f14e43467931a"
    ['sha256_10.4']="1b60812310bd5756c62d93a9f93de8c28ea63b0df254f428cd1cf1a4d9020048"
    ['sha256_10.5']="6c8e616c91a45142b85c0aeb1f29ebba4a361309e86469e0fb4617b6a73c4011"
    ['sha256']="${PG['sha256_'${PG['version']}]}"
    ['data']="${PGDATA:-/var/lib/postgresql/data}"
)

# directories
declare -r pg_srcdir=/usr/src/postgresql
declare postgresHome="$(getent passwd postgres | cut -d: -f6)"
[[ -z $postgresHome ]] && postgresHome='/var/lib/postgresql'
PG['home']="$postgresHome"
